<div class="ConfigurationTypes_textpadding">

    <!-- <div class="d-flex mb-2 flex-wrap  justify-content-end align-items-center">

        <button type="button" class="btn btn-outline-secondary btn-rounded" (click)="onAddRole()"> Add Role </button>
    </div> -->
    <div class="loading-spinner" *ngIf="isloading">
        <mat-spinner [mode]="'indeterminate'"></mat-spinner>

    </div>
    <div class="row align-items-center">
        <div class="col-md-5">
            <div class="signup-image col-md-5 mt-5 order-1">
                <figure>
                    <img src="assets/images/Traditional-yoga-new-logo.png " alt="sing up image " width="75% ">
                </figure>
            </div>
        </div>
        <div class="col-md-5">
            <h1 class="d-inline-block pt-2  font-weight-normal moderrat-font text-white"> Traditional Yoga </h1>
        </div>
    </div>
    <div class="card border-light">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <!-- <li class="breadcrumb-item"><a href="#">Home</a></li> -->
                <li class="breadcrumb-item"><a href="/login">Login Page</a></li>
                <li class="breadcrumb-item active" aria-current="page">Enrollment</li>
            </ol>
        </nav>
        <div class="card-header text-white bg-secondary">
            <!-- {{isEditable ? "Update":"Add"}} Enrollment -->
            Enrollment
        </div>
        <div class="card-body bg-white py-2">
            <form [formGroup]="enrollForm" (ngSubmit)="enrollmentSubmit()">

                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <label>First Name</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="firstName" required>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['firstName'].invalid && (enrollForm.controls['firstName'].dirty || enrollForm.controls['firstName'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('firstName')?.hasError('required')  ">
                                    First Name is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>Middle Name</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="middleName">
                            </mat-form-field>
                            <!-- <div class="error-message"
                                *ngIf="enrollForm.controls['middleName'].invalid && (enrollForm.controls['middleName'].dirty || enrollForm.controls['middleName'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('middleName')?.hasError('required')  ">
                                    Middle Name is mandatory
                                </mat-error>
                            </div> -->
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>Last Name</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="lastName" required>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['lastName'].invalid && (enrollForm.controls['lastName'].dirty || enrollForm.controls['lastName'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('lastName')?.hasError('required')  ">
                                    Last Name is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <!-- <div class="">
                            <label>Email Id*
                                <span *ngIf="isemailverified" class="text-success fw-bolder"> - Verified</span>
                            </label>
                            <div class="col px-0">
                                <mat-form-field appearance="outline">
                                    <input matInput autocomplete="off" (keyup)="emailchange()" formControlName="email"
                                        required>
                                </mat-form-field>
                                <div class="error-message"
                                    *ngIf="enrollForm.controls['email'].invalid && (enrollForm.controls['email'].dirty || enrollForm.controls['email'].touched)">
                                    <mat-error [hidden]=" !enrollForm.get('email')?.hasError('required')  ">
                                        Email is mandatory
                                    </mat-error>
                                    <mat-error [hidden]=" !enrollForm.get('email')?.hasError('email')  ">
                                        Invalid Email
                                    </mat-error>
                                </div>
                            </div>
                        </div> -->
                        <div class="row">
                            <div [ngClass]="isEmailValid? 'col-md-10':''">
                                <label>Email Id
                                    <span *ngIf="isEmailVerified" class="text-success fw-bolder"> - Verified</span>
                                </label>
                                <div class="col px-0">
                                    <mat-form-field appearance="outline">
                                        <input matInput autocomplete="off" (keyup)="emailChange()"
                                            formControlName="email" required>
                                    </mat-form-field>
                                    <div class="error-message"
                                        *ngIf="enrollForm.controls['email'].invalid && (enrollForm.controls['email'].dirty || enrollForm.controls['email'].touched)">
                                        <mat-error [hidden]=" !enrollForm.get('email')?.hasError('required')  ">
                                            Email is mandatory
                                        </mat-error>
                                        <mat-error [hidden]=" !enrollForm.get('email')?.hasError('email')  ">
                                            Invalid Email
                                        </mat-error>
                                    </div>
                                </div>
                            </div>
                            <div [ngClass]="isEmailValid? 'col-md-2 px-0 mt-2':''" *ngIf="isEmailValid">
                                <button type="button" (click)="verifyEmail()"
                                    class="btn btn-outline-secondary btn-rounded btn-go d-inline-block mt-3 ">
                                    Verify
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>Mobile Number</label>
                        <div class="col row px-0">
                            <div class="col-md-3">
                                <mat-form-field appearance="outline">
                                    <mat-select formControlName="countryCode" [compareWith]="compareSelect">
                                        <mat-option *ngFor="let code of dialcodeList" [value]="code"
                                            aria-placeholder="Select Course Category">
                                            {{code}}</mat-option>
                                    </mat-select>

                                </mat-form-field>
                            </div>
                            <div class="col-md-9">
                                <mat-form-field appearance="outline">
                                    <input matInput autocomplete="off" placeholder="1234567890" formControlName="mobile"
                                        required>
                                </mat-form-field>
                            </div>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['countryCode'].invalid && (enrollForm.controls['countryCode'].dirty || enrollForm.controls['countryCode'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('countryCode')?.hasError('required')  ">
                                    Country Code is mandatory
                                </mat-error>

                            </div>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['mobile'].invalid && (enrollForm.controls['mobile'].dirty || enrollForm.controls['mobile'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('mobile')?.hasError('required')  ">
                                    Mobile is mandatory
                                </mat-error>
                                <mat-error [hidden]=" !enrollForm.get('mobile')?.hasError('pattern')  ">
                                    Invalid Mobile
                                </mat-error>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>Date of Birth</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput type="date" autocomplete="off" formControlName="dateOfBirth" required>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['dateOfBirth'].invalid && (enrollForm.controls['dateOfBirth'].dirty || enrollForm.controls['dateOfBirth'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('dateOfBirth')?.hasError('required')  ">
                                    Date of Birth is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <label>Gender</label>
                        <div class="col px-0">
                            <mat-radio-group formControlName="gender" aria-label="Select an option">
                                <mat-radio-button class=" mt-md-2 mr-md-4" *ngFor="let gender of genderList"
                                    [value]="gender.genderId">{{gender.genderName}}</mat-radio-button>

                            </mat-radio-group>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['gender'].invalid && (enrollForm.controls['gender'].dirty || enrollForm.controls['gender'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('gender')?.hasError('required')  ">
                                    Gender is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>House Number</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="houseNo">
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['houseNo'].invalid && (enrollForm.controls['houseNo'].dirty || enrollForm.controls['houseNo'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('houseNo')?.hasError('required')  ">
                                    House No is mandatory
                                </mat-error>
                                <mat-error [hidden]=" !enrollForm.get('houseNo')?.hasError('pattern')  ">
                                    Invalid House number
                                </mat-error>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>Street</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="street">
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['street'].invalid && (enrollForm.controls['street'].dirty || enrollForm.controls['street'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('street')?.hasError('required')  ">
                                    Street is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <label>Town/City</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="town">
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['town'].invalid && (enrollForm.controls['town'].dirty || enrollForm.controls['town'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('town')?.hasError('required')  ">
                                    Town/City is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label> Country</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input type="text" aria-label="Country" matInput formControlName="country"
                                    (change)="countryChange($event)" [matAutocomplete]="country">
                                <mat-autocomplete autoActiveFirstOption #country="matAutocomplete"
                                    (optionSelected)="countryChange($event)">
                                    <mat-option *ngFor="let country of countryFilter |async " [value]="country">
                                        {{country}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['country'].invalid && (enrollForm.controls['country'].dirty || enrollForm.controls['country'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('country')?.hasError('required')  ">
                                    Country is mandatory
                                </mat-error>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>State / Province</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline" *ngIf="!isIndia">
                                <input matInput autocomplete="off" formControlName="state">
                            </mat-form-field>

                            <mat-form-field appearance="outline" *ngIf="isIndia">
                                <!-- <input type="text" aria-label="Country" matInput formControlName="state"
                                    [matAutocomplete]="state">
                                <mat-autocomplete autoActiveFirstOption #state="matAutocomplete">
                                    <mat-option *ngFor="let country of stateFilter |async " [value]="country">
                                        {{country}}
                                    </mat-option> -->

                                <!-- </mat-autocomplete> -->
                                <mat-select formControlName="state">
                                    <mat-option *ngFor="let state of stateList" [value]="state.statesName">
                                        {{state.statesName | titlecase}}

                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['state'].invalid && (enrollForm.controls['state'].dirty || enrollForm.controls['state'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('state')?.hasError('required')  ">
                                    State is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <label>Pincode / Zipcode</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="pincode">
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['pincode'].invalid && (enrollForm.controls['pincode'].dirty || enrollForm.controls['pincode'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('pincode')?.hasError('required')  ">
                                    Pincode is mandatory
                                </mat-error>
                                <mat-error [hidden]=" !enrollForm.get('pincode')?.hasError('pattern')  ">
                                    Invalid Pincode
                                </mat-error>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>Mother Tongue</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <input matInput autocomplete="off" formControlName="motherTounge" required>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['motherTounge'].invalid && (enrollForm.controls['motherTounge'].dirty || enrollForm.controls['motherTounge'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('motherTounge')?.hasError('required')  ">
                                    Mother Tongue is mandatory
                                </mat-error>

                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>Language <small>(only speak)</small></label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <mat-select formControlName="onlySpeakLanguage" multiple>
                                    <mat-select-trigger>
                                        {{enrollForm.value.onlySpeakLanguage?.[0]}}
                                        <span *ngIf="(enrollForm.value.onlySpeakLanguage?.length || 0) > 1"
                                            class="example-additional-selection">
                                            (+{{(enrollForm.value.onlySpeakLanguage?.length || 0) - 1}}
                                            {{ enrollForm.value.onlySpeakLanguage?.length ===
                                            2 ?
                                            'other' : 'others'}})
                                        </span>
                                    </mat-select-trigger>
                                    <mat-option *ngFor="let language of languageList"
                                        [value]="language.languageName">{{language.languageName}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['onlySpeakLanguage'].invalid && (enrollForm.controls['onlySpeakLanguage'].dirty || enrollForm.controls['onlySpeakLanguage'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('onlySpeakLanguage')?.hasError('required')  ">
                                    Field is mandatory
                                </mat-error>

                            </div>
                            <small *ngIf="enrollForm.value.onlySpeakLanguage"><b>Selected
                                    language</b> : {{enrollForm.value.onlySpeakLanguage}}</small>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label>Language <small>(speak/write/read)</small></label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <mat-select formControlName="onlyReadAndWriteLanguage"
                                    (selectionChange)="languageChange()" multiple>
                                    <mat-select-trigger>
                                        {{enrollForm.value.onlyReadAndWriteLanguage?.[0]}}
                                        <span *ngIf="(enrollForm.value.onlyReadAndWriteLanguage?.length || 0) > 1"
                                            class="example-additional-selection">
                                            (+{{(enrollForm.value.onlyReadAndWriteLanguage?.length || 0) - 1}}
                                            {{ enrollForm.value.onlyReadAndWriteLanguage?.length ===
                                            2 ?
                                            'other' : 'others'}})
                                        </span>
                                    </mat-select-trigger>
                                    <mat-option *ngFor="let language of languageList"
                                        [value]="language.languageName">{{language.languageName}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['onlyReadAndWriteLanguage'].invalid && (enrollForm.controls['onlyReadAndWriteLanguage'].dirty || enrollForm.controls['onlyReadAndWriteLanguage'].touched)">
                                <mat-error
                                    [hidden]=" !enrollForm.get('onlyReadAndWriteLanguage')?.hasError('required')  ">
                                    Field is mandatory
                                </mat-error>

                            </div>
                            <small *ngIf="enrollForm.value.onlyReadAndWriteLanguage"><b>Selected
                                    language</b> : {{enrollForm.value.onlyReadAndWriteLanguage}}</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>Can you communicate in English?</label>
                        <div class="col px-0">
                            <mat-radio-group formControlName="isEnglishSpoken" aria-label="Select an option">
                                <mat-radio-button [value]="true" class=" mt-md-2 mr-md-4">Yes</mat-radio-button>
                                <mat-radio-button [value]="false" class=" mt-md-2 mr-md-4">No</mat-radio-button>

                            </mat-radio-group>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['isEnglishSpoken'].invalid && (enrollForm.controls['isEnglishSpoken'].dirty || enrollForm.controls['isEnglishSpoken'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('isEnglishSpoken')?.hasError('required')  ">
                                    Field is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row text-align-center pb-1">
                    <div class="col-md-4">
                        <label>How did you hear about us?</label>
                        <div class="col px-0">
                            <mat-form-field appearance="outline">
                                <mat-select formControlName="refferal" [compareWith]="compareSelect">
                                    <mat-option *ngFor="let category of refferalList" [value]="category.aboutUsId"
                                        aria-placeholder="Select Course Category">
                                        {{category.aboutusName | titlecase}}</mat-option>
                                </mat-select>

                            </mat-form-field>
                            <div class="error-message"
                                *ngIf="enrollForm.controls['refferal'].invalid && (enrollForm.controls['refferal'].dirty || enrollForm.controls['refferal'].touched)">
                                <mat-error [hidden]=" !enrollForm.get('refferal')?.hasError('required')  ">
                                    Refferal is mandatory
                                </mat-error>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 row align-items-center ">
                        <div class="col-md-8">
                            <label>&nbsp;</label>
                            <div class="col">
                                <mat-checkbox class="example-margin" formControlName="termsCondition">Terms and
                                    Condition</mat-checkbox>
                                <div class="error-message"
                                    *ngIf="enrollForm.controls['termsCondition'].invalid && (enrollForm.controls['termsCondition'].dirty || enrollForm.controls['termsCondition'].touched)">
                                    <mat-error [hidden]=" !enrollForm.get('termsCondition')?.hasError('required')  ">
                                        Terms and condition is mandatory
                                    </mat-error>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 ">
                            <button type="button" (click)="termsCondition()"
                                class="btn btn-outline-secondary btn-rounded btn-go d-inline-block mt-4 ">
                                View
                            </button>
                        </div>
                    </div>
                    <div class=" col d-flex flex-row flex-wrap justify-content-end">
                        <button type="submit" class="btn btn-outline-secondary btn-rounded d-inline-block mt-4">
                            {{isEditable ? "Update" :"Register" }}
                        </button>
                        <button type="reset" (click)="onCancel()"
                            class="btn btn-outline-secondary btn-rounded d-inline-block mt-4 ">
                            Cancel
                        </button>
                    </div>
                </div>

            </form>

        </div>
    </div>

</div>
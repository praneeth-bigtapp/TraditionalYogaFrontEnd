<div class="ConfigurationTypes_textpadding ">
    <h3 class="mb-4 pl-2 text-secondary "> {{this.formtype |titlecase}}</h3>
    <div class="bg-white  border  p-2">


        <div class="justify-content-between pt-2 pl-2">

            <div class=" ">
                <div class=" row ">
                    <div class="col-md-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Select Course</mat-label>
                        <mat-select [(ngModel)]="category" (ngModelChange)="coursechange()">
                            <mat-option *ngFor="let course of courselist" [value]="course.coursesId">
                                {{course.coursesName}}</mat-option>
                        </mat-select>
                        <span class="text-dark" *ngIf="categoryerror">
                            Please Select Category
                        </span>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <button type="button" (click)="gobutton()"
                        class="btn btn-outline-secondary btn-go btn-rounded d-inline-block m-2 border border-dark">
                        Go
                    </button>
                </div>
                </div>
                
            </div>
            
            <div class="row">
            <div class=" col-md-6" style="height: 100%;" *ngIf="displaycontent">
                <h6 class="">Total Number of Users applied : <span class="h3">{{128}}</span> </h6>
            </div>

            <div class=" col-md-6" style="height: 100%;" *ngIf="displaycontent">
                <h6>Number of users mapped : <span class="h3">{{128}}</span> </h6>
            </div>
            </div>
        </div>

        <br />

        <!-- form tab -->
        <div class=" border-top  py-3" *ngIf="displaycontent">
            <div class="w-100 ">

                <ul class="nav nav-tabs " role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#form1" (click)="formswich('Members')"
                            role="tab">Members</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#form1" (click)="formswich('Mentor Mapping')"
                            role="tab">Mentor Mapping</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#form1" (click)="formswich('Chief Mentor Mapping')"
                            role="tab"> Chief Mentor Mapping </a>
                    </li> -->
                </ul>
                <div class="tab-content">
                    <div class="py-5 tab-pane active" id="form1" role="tabpanel">

                        <form class=" mx-2" [formGroup]="memberform" (ngSubmit)="memberformsubmit()">

                            <div class="row">
                                <div class="col-md-4">
                                    <label>Enter Name</label>
                                    <mat-form-field appearance="outline">
                                        <mat-label>Enter Name</mat-label>
                                        <input matInput autocomplete="off"  formControlName="name" required>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('name')?.hasError('required')">
                                            Please Type Few Words
                                        </mat-error>
                                    </mat-form-field>
                                </div>


                                <div class="col-md-4">
                                    <label>Enter email Id</label>

                                    <mat-form-field appearance="outline">
                                        <mat-label>Enter email Id</mat-label>
                                        <input matInput autocomplete="off" formControlName="email" required>
                                         <mat-error class="text-dark" [hidden]="!memberform.get('email')?.hasError('required')">
                                            Please Type Few Words
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <!-- 
                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Select Country</mat-label>
                                        <mat-select formControlName="country">
                                            <mat-option *ngFor="let country of countryList" [value]="country">
                                                {{country}}</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('country')?.hasError('required')">
                                            Please Select Country
                                        </mat-error>
                                    </mat-form-field>
                                </div> -->

                                <div class="col-md-4">
                                    <label>Country</label>

                                    <mat-form-field appearance="outline">
                                        <mat-label>Country</mat-label>
                                        <input type="text" placeholder="Pick one" aria-label="Country" matInput
                                            formControlName="country" [matAutocomplete]="auto">
                                        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                            <mat-option *ngFor="let country of countryfilter |async " [value]="country">
                                                {{country}}
                                            </mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <label>Select Mobile</label>

                                    <mat-form-field appearance="outline">
                                        <mat-label>Select Mobile</mat-label>
                                        <input matInput autocomplete="off" formControlName="mobile" required>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('mobile')?.hasError('required')">
                                            Please Type Number
                                        </mat-error>
                                    </mat-form-field>
                                </div>


                                <!-- <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Select Region</mat-label>
                                        <mat-select formControlName="region">
                                            <mat-option *ngFor="let country of countryList" [value]="country">
                                                {{country}}</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('region')?.hasError('required')">
                                            Please Select Country
                                        </mat-error>
                                    </mat-form-field>
                                </div> -->

                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Region</mat-label>
                                        <input type="text" placeholder="Pick one" aria-label="Country" matInput
                                            formControlName="region" [matAutocomplete]="regionauto">
                                        <mat-autocomplete autoActiveFirstOption #regionauto="matAutocomplete">
                                            <mat-option *ngFor="let country of regionfilter |async " [value]="country">
                                                {{country | titlecase}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-error class="text-dark"  [hidden]="!memberform.get('region')?.hasError('required')">
                                            Please Select Region
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Age From</mat-label>
                                        <mat-select formControlName="agefrom">
                                            <mat-option *ngFor="let age of agelist" [value]="age">
                                                {{age}}</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('agefrom')?.hasError('required')">
                                            Please Select Age
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Age to</mat-label>
                                        <mat-select formControlName="ageto">
                                            <mat-option *ngFor="let age of agelist" [value]="age">
                                                {{age}}</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('ageto')?.hasError('required')">
                                            Please Select Age
                                        </mat-error>
                                    </mat-form-field>
                                </div>


                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Enter Gender</mat-label>
                                        <mat-select formControlName="gender">
                                            <mat-option value="male">Male</mat-option>
                                            <mat-option value="female">Female</mat-option>

                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('gender')?.hasError('required')">
                                            Please Select Gender
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Status</mat-label>
                                        <mat-select formControlName="status">
                                            <mat-option value="confirmed">Confirmed</mat-option>
                                            <mat-option value="pending">Pending</mat-option>

                                            <mat-option value="rejected">Rejected</mat-option>

                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('status')?.hasError('required')">
                                            Please Select Status
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="d-flex flex-wrap  align-items-center justify-content-md-end">
                                <!-- <div class="" *ngIf="this.formtype == 'Members'">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Change UserType</mat-label>
                                        <mat-select formControlName="usertype">
                                            <mat-option value="confirmed">Confirmed</mat-option>
                                            <mat-option value="pending">Pending</mat-option>

                                            <mat-option value="rejected">Rejected</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('usertype')?.hasError('required')">
                                            Please Select Type
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="" *ngIf="this.formtype == 'Mentor Mapping'  ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Select Mentor</mat-label>
                                        <mat-select formControlName="usertype">
                                            <mat-option value="confirmed">Confirmed</mat-option>
                                            <mat-option value="pending">Pending</mat-option>

                                            <mat-option value="rejected">Rejected</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('usertype')?.hasError('required')">
                                            Please Select Type
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="" *ngIf=" this.formtype == 'Chief Mentor Mapping' ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Select Chief Mentor</mat-label>
                                        <mat-select formControlName="usertype">
                                            <mat-option value="confirmed">Confirmed</mat-option>
                                            <mat-option value="pending">Pending</mat-option>

                                            <mat-option value="rejected">Rejected</mat-option>
                                        </mat-select>
                                         <mat-error class="text-dark"  [hidden]="!memberform.get('usertype')?.hasError('required')">
                                            Please Select Type
                                        </mat-error>
                                    </mat-form-field>
                                </div> -->
                                <div class="ml-2 mb-4">
                                    <button type="submit"
                                        class="btn btn-outline-secondary btn-rounded    d-inline-block ">
                                        {{this.formtype == "Members"? "Submit" : "Assign"}}
                                    </button>
                                </div>
                            </div>


                        </form>
                    </div>
                </div>
            </div>

        </div>
        <br />

    </div>
    <br />

    <table mat-table [dataSource]="filterData.dataSource" matSort class="mat-elevation-z8 mat-datagrid w-100"
        aria-label="users">
        <ng-container matColumnDef="studentId">
            <th mat-header-cell *matHeaderCellDef style="width: 30px;" scope="col">
                <label mat-sort-header>
                    S.No
                </label>
                <input type="text" (keyup)="updatePagination('courseId')"
                    [(ngModel)]="filterData.filterColumnNames[0].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element"> {{element.studentId}} </td>
        </ng-container>

        <ng-container matColumnDef="Image">
            <th mat-header-cell *matHeaderCellDef scope="col">
                <label mat-sort-header>
                    Image
                </label>
                <!-- <input type="text" (keyup)="updatePagination('category')"
            [(ngModel)]="filterData.filterColumnNames[1].Value" [filter]="filterData" /> -->
            </th>
            <td mat-cell class="text-center" *matCellDef="let element">

                <img src="../../../../assets/images/user-profile.png" width="20" alt="user pic" />

            </td>
        </ng-container>

        <ng-container matColumnDef="name">

            <th mat-header-cell *matHeaderCellDef scope="col">
                <label mat-sort-header>
                    Name
                </label>
                <input type="text" (keyup)="updatePagination('courseName')"
                    [(ngModel)]="filterData.filterColumnNames[2].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element"> {{element.name |titlecase}} </td>
        </ng-container>

        <ng-container matColumnDef="emailId">
            <th mat-header-cell *matHeaderCellDef scope="col">
                <label mat-sort-header>
                    Email id
                </label>
                <input type="text" (keyup)="updatePagination('courseDuration')"
                    [(ngModel)]="filterData.filterColumnNames[3].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element"> {{element.emailId || "Nil" }} </td>
        </ng-container>

        <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef scope="col">
                <label mat-sort-header>
                    Country
                </label>
                <input type="text" (keyup)="updatePagination('startDate')"
                    [(ngModel)]="filterData.filterColumnNames[4].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element"> {{element.address || "Nil"}} </td>
        </ng-container>

        <ng-container matColumnDef="genderId">
            <th mat-header-cell *matHeaderCellDef scope="col">
                <label mat-sort-header>
                    Gender
                </label>
                <input type="text" (keyup)="updatePagination('endDate')"
                    [(ngModel)]="filterData.filterColumnNames[5].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element "> {{element.genderId }} </td>
        </ng-container>

        <ng-container matColumnDef="mentorId">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    Mentor
                </label>
                <input type="text" (keyup)="updatePagination('currentStatus')"
                    [(ngModel)]="filterData.filterColumnNames[6].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element "> {{element.mentorId || "Nil" }} </td>

        </ng-container>

        <ng-container matColumnDef="ChiefMentorId">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    Chief Mentor
                </label>
                <input type="text" (keyup)="updatePagination('currentStatus')"
                    [(ngModel)]="filterData.filterColumnNames[7].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element "> {{element.ChiefMentorId || "Nil"}} </td>

        </ng-container>

        <ng-container matColumnDef="Status">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    Status
                </label>
                <input type="text" (keyup)="updatePagination('currentStatus')"
                    [(ngModel)]="filterData.filterColumnNames[7].Value" [filter]="filterData" />
            </th>
            <td mat-cell class="text-center" *matCellDef="let element "> {{element.Status || "Nil"}} </td>

        </ng-container>

        <ng-container matColumnDef="View_Profile">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    Action
                </label>

            </th>
            <td mat-cell class="text-center" *matCellDef="let element ">
                <!-- <i class="fa-solid fa-eye fs-5 bg-light" (click)="viewprofile(element)" matTooltip="View Profile"></i> -->
                <!-- <button class="btn bg-light" (click)="viewprofile(element)">
                    View
                </button> -->
                <i class="fa-solid fa-eye fs-5 text-info" (click)="viewprofile(element)"
                    matTooltip="View Course Activity" matTooltip="View"></i>
            </td>

        </ng-container>
        <!-- <ng-container matColumnDef="View_Course_Activity">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    View Course Activity
                </label>

            </th>
            <td mat-cell class="text-center" *matCellDef="let element ">
              
                <button class="btn bg-info" (click)="viewcourseactivity(element)">
                    View
                </button>
            </td>

        </ng-container>
        <ng-container matColumnDef="Manage_Exemptions">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">
                <label mat-sort-header>
                    Manage Exemptions
                </label>
            </th>
            <td mat-cell class="text-center" *matCellDef="let element ">
         
                <button class="btn bg-info " (click)="viewexemption(element)">
                    View
                </button>

            </td>

        </ng-container>
        <ng-container matColumnDef="Checkbox">
            <th mat-header-cell *matHeaderCellDef style="width: 150px;" scope="col">

                <div class="text-center">
                    <mat-checkbox accent="secondary" (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
                    </mat-checkbox>
                </div>

            </th>
            <td mat-cell class="text-center" *matCellDef="let element ">
                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(element) : null"
                    [checked]="selection.isSelected(element)">
                </mat-checkbox>
            </td>

        </ng-container> -->


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <div class="bg-white d-flex  flex-row justify-content-end ">
        <mat-paginator class="" [pageSizeOptions]="[10,25, 50,75, 100]" aria-label="Select page">
        </mat-paginator>
    </div>

    <br />
    <button type="button" class="btn btn-outline-secondary btn-rounded d-inline-block border border-dark "
        (click)="downloadexcel()" *ngIf="displaycontent">
        <!-- <svg class="" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 50 50" width="20">
            <path
                d="M 28.8125 0.03125 L 0.8125 5.34375 C 0.339844 5.433594 0 5.863281 0 6.34375 L 0 43.65625 C 0 44.136719 0.339844 44.566406 0.8125 44.65625 L 28.8125 49.96875 C 28.875 49.980469 28.9375 50 29 50 C 29.230469 50 29.445313 49.929688 29.625 49.78125 C 29.855469 49.589844 30 49.296875 30 49 L 30 1 C 30 0.703125 29.855469 0.410156 29.625 0.21875 C 29.394531 0.0273438 29.105469 -0.0234375 28.8125 0.03125 Z M 32 6 L 32 13 L 34 13 L 34 15 L 32 15 L 32 20 L 34 20 L 34 22 L 32 22 L 32 27 L 34 27 L 34 29 L 32 29 L 32 35 L 34 35 L 34 37 L 32 37 L 32 44 L 47 44 C 48.101563 44 49 43.101563 49 42 L 49 8 C 49 6.898438 48.101563 6 47 6 Z M 36 13 L 44 13 L 44 15 L 36 15 Z M 6.6875 15.6875 L 11.8125 15.6875 L 14.5 21.28125 C 14.710938 21.722656 14.898438 22.265625 15.0625 22.875 L 15.09375 22.875 C 15.199219 22.511719 15.402344 21.941406 15.6875 21.21875 L 18.65625 15.6875 L 23.34375 15.6875 L 17.75 24.9375 L 23.5 34.375 L 18.53125 34.375 L 15.28125 28.28125 C 15.160156 28.054688 15.035156 27.636719 14.90625 27.03125 L 14.875 27.03125 C 14.8125 27.316406 14.664063 27.761719 14.4375 28.34375 L 11.1875 34.375 L 6.1875 34.375 L 12.15625 25.03125 Z M 36 20 L 44 20 L 44 22 L 36 22 Z M 36 27 L 44 27 L 44 29 L 36 29 Z M 36 35 L 44 35 L 44 37 L 36 37 Z" />
        </svg> -->
        Download Excel
    </button>

    <a class="d-none" [href]="downloadurl">Download link</a>
</div>